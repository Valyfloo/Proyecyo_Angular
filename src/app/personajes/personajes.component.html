<div class="personajes-background">
  <div class="container mt-4">
    <h2>Buscar Personaje por ID</h2>
    <input type="number" [(ngModel)]="searchId" placeholder="Ingresa un ID" class="form-control" min="1" />
    <button class="btn btn-primary mt-2" (click)="searchById()" [disabled]="!searchId">Buscar por ID</button>

    <div *ngIf="personaje">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card mb-4" (click)="navigateToCharacterDetail(personaje.id)" style="cursor: pointer;">
            <img [src]="personaje.image" class="card-img-top" alt="{{personaje.name}}">
            <div class="card-body">
              <h5 class="card-title">{{personaje.name}}</h5>
              <p class="card-text">Status: {{personaje.status}}</p>
              <p class="card-text">Especie: {{personaje.species}}</p>
              <p class="card-text">Género: {{personaje.gender}}</p>
              <h5 class="mt-3">Episodios:</h5>
              <ul>
                <li *ngFor="let episode of episodes">{{ episode.name }} ({{ episode.episode }})</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h2 class="mt-4">Buscar Personaje por Nombre</h2>
    <input type="text" [(ngModel)]="searchName" placeholder="Ingresa un nombre" class="form-control" />
    <button class="btn btn-primary mt-2" (click)="searchByName()" [disabled]="!searchName.trim()">Buscar por Nombre</button>

    <div *ngIf="personajes.length > 0">
      <div class="row">
        <div class="col-md-4" *ngFor="let personaje of personajes">
          <div class="card mb-4" (click)="navigateToCharacterDetail(personaje.id)" style="cursor: pointer;">
            <img [src]="personaje.image" class="card-img-top" alt="{{personaje.name}}">
            <div class="card-body">
              <h5 class="card-title">{{personaje.name}}</h5>
              <p class="card-text">Status: {{ personaje.status }}</p>
              <p class="card-text">Especie: {{personaje.species}}</p>
              <p class="card-text">Género: {{personaje.gender}}</p>
            </div>
          </div>
        </div>
      </div>

      <nav>
        <ul class="pagination justify-content-center">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a class="page-link" (click)="previousPage()">Anterior</a>
          </li>
          <li class="page-item">
            <input type="number" [(ngModel)]="pageInput" class="form-control" style="width: 80px; display: inline-block;" />
            <button class="btn btn-primary ml-2" (click)="goToPageNumber()">Ir</button>
          </li>
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a class="page-link" (click)="nextPage()">Siguiente</a>
          </li>
        </ul>
      </nav>
    </div>

    <div *ngIf="!personajes.length && !personaje">
      <p>No se encontraron personajes.</p>
    </div>
  </div>
</div>
